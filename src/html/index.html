<!DOCTYPE html>
<html>
    <head>
        <title>Juan Gabriel Taruc | Software Developer</title>
        <script src="js/vendors/handlebars.runtime.min.js"></script>        
        <script src="js/templates/templates.js"></script>
        
        
        <script>
            document.write(Templates.template_meta());
        </script>

        <link rel="stylesheet" type="text/css" href="css/reset.css">
        <link rel="stylesheet" type="text/css" href="css/global.css">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,600">
        
        <link rel="stylesheet" type="text/css" href="css/index.css">
    </head>

    <body>
        <script>
            document.write(Templates.template_svg({
                svg_menu: true
            }));
        </script>

        <main class="jg-main">
            <script>
                document.write(Templates.template_header());
                document.write(Templates.template_sidebar());
            </script>
            
            <section class="jg-hero-bg">
                <!-- check if hero-img has finished loading -->
                <img class="hidden">
                <div class="jg-hero-img"></div>
                <div class="jg-cta">
                    <h4>Hi, I'm</h4>
                    <h1>Juan Gabriel Taruc</h1>
                    <h5>Frontend Developer</h5>
                </div>
            </section>

            <section id="about" class="jg-info">
                <h1 class="jg-grid-item jg-grid-1/1 jg-info--title">About</h1>
                <div class="jg-grid-layout">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/7/7c/Profile_avatar_placeholder_large.png" class="jg-grid-item jg-grid-1/3">
                    <div class="bio jg-grid-item jg-grid-2/3"></div>
                </div>
            </section>

            <section id="projects" class="jg-grid-layout jg-info">
                <h1 class="jg-grid-item jg-grid-1/1 jg-info--title">Projects</h1>
                <div class="jg-grid-layout">
                    <div class="jg-grid-item jg-grid-1/2 project-item">
                        <div></div>
                    </div>
                    <div class="jg-grid-item jg-grid-1/2 project-item">
                        <div></div>
                    </div>
                    <div class="jg-grid-item jg-grid-1/3 project-item">
                        <div></div>
                    </div>
                    <div class="jg-grid-item jg-grid-1/3 project-item">
                        <div></div>
                    </div>
                    <div class="jg-grid-item jg-grid-1/3 project-item">
                        <div></div>
                    </div>
                </div>
            </section>
            
            <section id="contact" class="jg-grid-layout jg-info">
                <h1 class="jg-grid-item jg-grid-1/1 jg-info--title">Contact</h1>                    
                <div class="jg-grid-layout">
                    <div class="jg-grid-item jg-grid-1/1 contact-item"></div>
                </div>
            </section>
        </main>

        <script>
            document.write(Templates.template_footer());
        </script>
    </body>
    <script>

        // header animation
        var prevscrollY = 0,
            header = document.querySelector("#jg-header");

        window.addEventListener("scroll", function(evt){
            var scrollY = window.scrollY || window.pageYOffset || document.documentElement.scrollTop,
                screenscroll = scrollY - prevscrollY,
                offsetY;

            if(screenscroll >= 0) {
                offsetY = -55; 
                if(offsetY < -55) {
                    offsetY = -55;
                }
            } else {
                offsetY = 0;
            }
            
            if(scrollY !== 0) {
                header.style.backgroundColor = "#1d1d1d";
            } else {
                header.style.backgroundColor = "transparent";
            }

            header.style.transform = "translateY(" + offsetY + "px)";

            prevscrollY = scrollY;
        });

        // mouse parallax
        var hero_bg = document.querySelector(".jg-hero-bg"),
            el = hero_bg.querySelector(".jg-hero-img"),
            prevEvt;
            
        document.querySelector(".jg-hero-bg").addEventListener("mousemove", function(evt){
            if(typeof prevEvt === "undefined") {
                prevEvt = evt;
                return;
            }

            var movementX = evt.screenX - prevEvt.screenX,
                movementY = evt.screenY - prevEvt.screenY,
                x = y = 0;
            
            if(movementX < 0) { x = "20px" }
            else if(movementX > 0) { x = "-20px" }

            if(movementY < 0) { y = "20px" }
            else if(movementY > 0) { y = "-20px" }

            el.style.transform = "translate(" + x + "," + y  + ")";
            prevEvt = evt;
        });

        document.querySelector(".jg-hero-bg").addEventListener("mouseleave", function(evt){
            el.style.transform = "translate(0, 0)";
        })

        // main box
        var img = hero_bg.querySelector("img"),
            hero_bg_main = hero_bg.querySelector(".jg-cta");
        img.setAttribute("src", "assets/hero-img.jpg");
        img.addEventListener("load", function(){
            this.parentNode.style.opacity = "1";
            this.parentNode.removeChild(this);

            // setTimeout(function(){hero_bg_main.classList.add("hero-bg-main")}, 150);
        });
    </script>

</html>